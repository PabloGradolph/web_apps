{% extends "base.html" %}

{% block title %}
Recipe
{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/recipes.css') }}">
<!-- SWIPER CSS-->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
{% endblock %}

{% block content %}
<h1 class="recipe-title">{{ recipe.title }}</h1>

<p class="user">Submitted by chef {{ user.username }} </p>


<div class="recipe-info">
    <div class="recipe-servings">
        <h3>üë• <span class="servings-count">{{ recipe.servings }}</span></h3>
    </div>
    <div class="recipe-cook_time">
        <h3>‚è≤Ô∏è <span class="cook_time-count">{{ recipe.cook_time }}'</span></h3>
    </div>
    <div class="recipe-type_food">
        <h3>üçΩÔ∏è <span class="type_food-count">{{ recipe.type_food }}</span></h3>
    </div>
    <div class="recipe-category_food">
        <h3>üç¥ <span class="category_food-count">{{ recipe.category_food }}</span></h3>
    </div>
</div>

<span class="recipe-description">
    <h2>üìù Description</h3>
    <p>{{ recipe.description }}</p>
</span>

<div class="recipe-card">
    <div class="card-columns">
        <!-- Column 1 -->
        <div class="card-column">
            <div class="card-body">
                <h2>üî¢ Steps</h3>
                {% for step in recipe.steps %}
                <p>{{ step.sequence_number }}. <span class="step-description">{{ step.description }}</span></p>
                {% endfor %}
            </div>
        </div>
    
        <!-- Column 2 -->
        <div class="card-column">
            <div class="card-image">
                <div class="container section__border">
                    <div class="recipes__container swiper">
                        <div class="swiper-wrapper">
                            <!--Bucle for aqu√≠ con las 5 recetas m√°s valoradas-->
                            <div class="recipes__content swiper-slide">
                                <div>
                                    <img src="{{ url_for('static', filename='imgs/photo_recipe.jpg')}}" alt="recipe image" class="recipes__img">
                                </div>
                            </div>
            
                            <div class="recipes__content swiper-slide">
                                <div>
                                    <img src="{{ url_for('static', filename='imgs/photo_recipe.jpg')}}" alt="recipe image" class="recipes__img">
                                </div>
                            </div>
            
                            <div class="recipes__content swiper-slide">
                                <div>
                                    <img src="{{ url_for('static', filename='imgs/photo_recipe.jpg')}}" alt="recipe image" class="recipes__img">
                                </div>
                            </div>
            
                            <div class="recipes__content swiper-slide">
                                <div>
                                    <img src="{{ url_for('static', filename='imgs/photo_recipe.jpg')}}" alt="recipe image" class="recipes__img">
                                </div>
                            </div>
                        </div>
                        
                        <!-- SWIPER ARROWS AND PAGINATION-->
                        <div class="swiper-button-next">
                            <i class="ri-arrow-right-s-line"></i>
                        </div>
                        <div class="swiper-button-prev">
                            <i class="ri-arrow-left-s-line"></i>
                        </div>
                        <div class="swiper-pagination"></div>
            
                    </div>
                </div>
            </section>
            <!-- SWIPER JS -->
            <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
            <script>let swiper = new Swiper(".swiper", {
                loop: true,
                spaceBetween: 24,
            
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                pagination: {
                    el: ".swiper-pagination",
                },
                breakpoints: {
                    1200: {
                        slidesPerView: 2,
                        spaceBetween: 0,
                    }
                },
            });
            window.addEventListener('load', function() {
                var slides = document.querySelectorAll('.swiper-slide');
                slides.forEach(function(slide) {
                    slide.style.marginRight = '0px';
                });
            });</script>
            </div>
        </div>
    </div>
</div>



{% endblock %}
