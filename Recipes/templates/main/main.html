{% extends "base.html" %}

{% block title %}
Home Page
{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
<!-- SWIPER CSS-->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
{% endblock %}

{% block content %}
<section class="welcome section" id="welcome">
    <div class="container">
        <h1 class="section__title">Welcome Chef ðŸ‘‹</h1>
        <p>Delight in a diverse array of recipes, from cozy classics to daring delights. <span>'RecipeRealm'</span> is your destination for memorable gastronomic adventures.</p>
        <div class="btn-container">
            <a href="#" ><button class="btn-primary">Explore!</button></a>
        </div>
    </div>
</section>

<section class="most valorated section" id="mostValorated">
    <h1 class="section__title">Most valorated recipes</h1>
    <div class="container section__border">
        <div class="recipes__container swiper">
            <div class="swiper-wrapper">
                {% for recipe, average_rating in top_recipes %}
                    <div class="recipes__content swiper-slide">
                        <div>
                            <img src="{{ url_for('static', filename='imgs/photo_recipe.jpg')}}" alt="recipe image" class="recipes__img">
                            <h1 class="recipes_title">{{ recipe.title }}</h1>
                            <p class="recipes__subtitle">{{ average_rating }}</p>

                            <a href="#" class="recipes__button">
                                View recipe <i class="ri-arrow-right-line"></i>
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
            
            <!-- SWIPER ARROWS AND PAGINATION-->
            <div class="swiper-button-next">
                <i class="ri-arrow-right-s-line"></i>
            </div>
            <div class="swiper-button-prev">
                <i class="ri-arrow-left-s-line"></i>
            </div>
            <div class="swiper-pagination"></div>

        </div>
    </div>
</section>
<!-- SWIPER JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>let swiper = new Swiper(".swiper", {
    loop: true,
    spaceBetween: 24,

    navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
    },
    pagination: {
        el: ".swiper-pagination",
    },
    breakpoints: {
        1200: {
            slidesPerView: 2,
            spaceBetween: 0,
        }
    },
});
window.addEventListener('load', function() {
    var slides = document.querySelectorAll('.swiper-slide');
    slides.forEach(function(slide) {
        slide.style.marginRight = '0px';
    });
});</script>
{% endblock %}